<div class="recipes-container">
    <div class="recipes-header">
        <h1>All Recipes</h1>
        <button class="btn btn-primary" onclick="showAddForm()">Add New Recipe</button>
    </div>
    
    <!-- Add Recipe Form (initially hidden) -->
    <div id="add-recipe-form" class="recipe-form" style="display: none;">
        <h2>Add New Recipe</h2>
        <form action="/recipes" method="POST">
            <div class="form-group">
                <label for="title">Recipe Title:</label>
                <input type="text" id="title" name="title" required>
            </div>
            
            <div class="form-group">
                <label for="ingredients">Ingredients:</label>
                <textarea id="ingredients" name="ingredients" rows="4" placeholder="List ingredients, one per line" required></textarea>
            </div>
            
            <div class="form-group">
                <label for="method">Method:</label>
                <textarea id="method" name="method" rows="6" placeholder="Step-by-step method" required></textarea>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Add Recipe</button>
                <button type="button" class="btn btn-secondary" onclick="hideAddForm()">Cancel</button>
            </div>
        </form>
    </div>
    
    <!-- Recipes List -->
    <div class="recipes-grid">
        {{#if recipes}}
            {{#each recipes}}
            <div class="recipe-card">
                <h3><a href="/recipes/{{id}}">{{title}}</a></h3>
                <div class="recipe-preview">
                    <p><strong>Ingredients:</strong> {{truncate ingredients 100}}</p>
                </div>
                <div class="recipe-actions">
                    <a href="/recipes/{{id}}" class="btn btn-sm">View Details</a>
                </div>
            </div>
            {{/each}}
        {{else}}
            <div class="no-recipes">
                <p>No recipes found. <a href="#" onclick="showAddForm()">Add your first recipe!</a></p>
            </div>
        {{/if}}
    </div>
</div>

<script>
function showAddForm() {
    document.getElementById('add-recipe-form').style.display = 'block';
    document.getElementById('title').focus();
}

function hideAddForm() {
    document.getElementById('add-recipe-form').style.display = 'none';
    document.querySelector('#add-recipe-form form').reset();
}
</script>
